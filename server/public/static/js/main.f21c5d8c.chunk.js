(this["webpackJsonpreact-Phone-Catalog-client"]=this["webpackJsonpreact-Phone-Catalog-client"]||[]).push([[0],{58:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(16),s=a(26),i=a.n(s),o=(a(58),a(21)),l=a(7),j=a(13),d=a(48),h={API_URL:"https://ssurbano-react-catalog-server.herokuapp.com"},p=a(12),b=a.n(p),u=a(1);var O=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!0),i=Object(j.a)(s,2),o=i[0],l=i[1];return Object(c.useEffect)((function(){b.a.get("".concat(h.API_URL,"/api/phones"),{withCredentials:!0}).then((function(e){n(e.data),setTimeout((function(){l(!1)}),1e3)})).catch((function(){return console.log("Fetching failed")}))}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("h1",{children:"Phone Catalog"}),o?Object(u.jsx)("div",{className:"spinner-column",children:Object(u.jsx)(d.a,{className:"my-spinner",animation:"grow"})}):Object(u.jsx)("section",{id:"phone-catalog",children:a.map((function(e){return Object(u.jsxs)("div",{className:"phone-card",children:[Object(u.jsx)("img",{className:"phone-index-picture",src:e.imageFileName,alt:"phone-front"}),Object(u.jsx)("h2",{children:e.name},e._id),Object(u.jsx)(r.b,{to:"/phones/".concat(e._id),children:"More Info"})]},e._id)}))})]})},x=a(88),m=a(91),g=a(87),f=a(22);function v(e){var t=Object(c.useState)(null),a=Object(j.a)(t,2),n=a[0],r=a[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(f.a,{children:Object(u.jsx)("title",{children:"Phone - Add"})}),Object(u.jsxs)(x.a,{className:"card-column",onSubmit:function(t){t.preventDefault();var a=new FormData;a.append("imageUrl",t.target.imageUrl.files[0]),a.append("name",t.target.name.value),a.append("manufacturer",t.target.manufacturer.value),a.append("description",t.target.description.value),a.append("color",t.target.color.value),a.append("price",t.target.price.value),a.append("screen",t.target.screen.value),a.append("processor",t.target.processor.value),a.append("ram",t.target.ram.value),b.a.post("".concat(h.API_URL,"/api/add-phone"),a,{withCredentials:!0}).then((function(t){e.history.push("/")})).catch((function(e){return r(e.response.data)}))},children:[Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"Name"}),Object(u.jsx)(x.a.Control,{name:"name",type:"text",placeholder:"Iphone xx"})]}),Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"Manufacturer"}),Object(u.jsx)(x.a.Control,{name:"manufacturer",type:"text",placeholder:"Apple"})]}),Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"Description"}),Object(u.jsx)(x.a.Control,{name:"description",type:"text"})]}),Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"color"}),Object(u.jsx)(x.a.Control,{name:"color",type:"text",placeholder:"black"})]}),Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"Price (\u20ac)"}),Object(u.jsx)(x.a.Control,{name:"price",type:"number",placeholder:"600"})]}),Object(u.jsx)(x.a.Group,{children:Object(u.jsx)(x.a.File,{name:"imageUrl",label:"Phone image",accept:"image/png, image/jpg"})}),Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"Screen"}),Object(u.jsx)(x.a.Control,{name:"screen",type:"text",placeholder:"4,7 inch IPS"})]}),Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"Processor"}),Object(u.jsx)(x.a.Control,{name:"processor",type:"text",placeholder:"A10 Fusion"})]}),Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"Ram"}),Object(u.jsx)(x.a.Control,{name:"ram",type:"number",placeholder:"2"})]}),n?Object(u.jsx)(m.a,{variant:"warning",className:"errorMessage",children:n.errorMessage}):null,Object(u.jsx)(g.a,{variant:"primary",type:"submit",children:"Submit"})]})]})}var C=a(90),y=a(89);function N(){return Object(u.jsxs)(C.a,{bg:"light",expand:"lg",children:[Object(u.jsx)(C.a.Brand,{href:"/",children:"Phone Catalog"}),Object(u.jsx)(C.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsx)(C.a.Collapse,{id:"basic-navbar-nav",children:Object(u.jsxs)(y.a,{className:"mr-auto",children:[Object(u.jsx)(y.a.Link,{href:"/",children:"See all phones"}),Object(u.jsx)(y.a.Link,{href:"/addPhone",children:"Add Phone"})]})})]})}function P(){return Object(u.jsx)("div",{})}function L(e){var t=Object(c.useState)({}),a=Object(j.a)(t,2),n=a[0],s=a[1],i=Object(c.useState)(!0),o=Object(j.a)(i,2),l=o[0],p=o[1];Object(c.useEffect)((function(){b.a.get("".concat(h.API_URL,"/api/phones/").concat(e.match.params.phoneId),{withCredentials:!0}).then((function(e){s(e),p(!1)})).catch((function(){return console.log("Fetching failed")}))}),[e.match.params.phoneId]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(f.a,{children:Object(u.jsx)("title",{children:"Phone - Details"})}),l?Object(u.jsx)("div",{className:"spinner-column",children:Object(u.jsx)(d.a,{className:"my-spinner",animation:"grow"})}):Object(u.jsx)("div",{className:"card-column",children:Object(u.jsxs)("div",{className:"phone-detail",children:[Object(u.jsx)("img",{className:"phone-index-picture",src:n.imageFileName,alt:"phone-front"}),Object(u.jsxs)("div",{className:"detail-info",children:[Object(u.jsx)("h3",{children:n.name}),Object(u.jsxs)("div",{className:"phone-details-row",children:[Object(u.jsxs)("p",{children:["Manufacturer: ",n.manufacturer]}),Object(u.jsxs)("p",{children:["Color: ",n.color]})]}),Object(u.jsxs)("p",{className:"text-left text-italic",children:['"',n.description,'"']}),Object(u.jsxs)("div",{className:"phone-details-row",children:[Object(u.jsxs)("p",{children:[n.screen," Screen"]}),Object(u.jsxs)("p",{children:[n.processor," Processor"]}),Object(u.jsxs)("p",{children:["RAM: ",n.ram,"GB"]})]}),Object(u.jsxs)("h4",{children:["Price: ",n.price," \u20ac"]})]}),Object(u.jsxs)("div",{className:"phone-details-row detail-buttons",children:[Object(u.jsx)(r.b,{to:"/edit/".concat(n._id),children:Object(u.jsx)(g.a,{variant:"primary",children:"Edit"})}),Object(u.jsx)(g.a,{variant:"light",onClick:function(){return t=n._id,void b.a.delete("".concat(h.API_URL,"/api/delete/").concat(t),{withCredentials:!0}).then((function(){e.history.push("/")})).catch((function(e){return console.log(e)}));var t},children:"Delete"})]})]})})]})}var G=a(29);function I(e){var t=Object(c.useState)({}),a=Object(j.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(null),i=Object(j.a)(s,2),l=i[0],d=i[1];Object(c.useEffect)((function(){b.a.get("".concat(h.API_URL,"/api/phones/").concat(e.match.params.phoneId),{withCredentials:!0}).then((function(e){return r(e.data)})).catch((function(){return console.log("Fetching failed")}))}),[e.match.params.phoneId]);var p=function(e){return r(Object(o.a)(Object(o.a)({},n),{},Object(G.a)({},e.currentTarget.name,e.currentTarget.value)))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(f.a,{children:Object(u.jsx)("title",{children:"Phone - Edit"})}),Object(u.jsxs)(x.a,{className:"card-column",onSubmit:function(t){t.preventDefault();var a=new FormData;a.append("imageUrl",t.target.imageUrl.files[0]),a.append("name",t.target.name.value),a.append("manufacturer",t.target.manufacturer.value),a.append("description",t.target.description.value),a.append("color",t.target.color.value),a.append("price",t.target.price.value),a.append("screen",t.target.screen.value),a.append("processor",t.target.processor.value),a.append("ram",t.target.ram.value),b.a.patch("".concat(h.API_URL,"/api/edit/").concat(e.match.params.phoneId),a,{withCredentials:!0}).then((function(t){e.history.push("/")})).catch((function(e){return d(e.response.data)}))},children:[Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"Name"}),Object(u.jsx)(x.a.Control,{name:"name",type:"text",value:n.name,onChange:p})]}),Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"Manufacturer"}),Object(u.jsx)(x.a.Control,{name:"manufacturer",type:"text",value:n.manufacturer,onChange:p})]}),Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"Description"}),Object(u.jsx)(x.a.Control,{name:"description",value:n.description,onChange:p})]}),Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"color"}),Object(u.jsx)(x.a.Control,{name:"color",type:"text",value:n.color,onChange:p})]}),Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"Price (\u20ac)"}),Object(u.jsx)(x.a.Control,{name:"price",type:"number",value:n.price,onChange:p})]}),Object(u.jsx)(x.a.Group,{children:Object(u.jsx)(x.a.File,{name:"imageUrl",label:"Phone image",accept:"image/png, image/jpg"})}),Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"Screen"}),Object(u.jsx)(x.a.Control,{name:"screen",type:"text",value:n.screen,onChange:p})]}),Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"Processor"}),Object(u.jsx)(x.a.Control,{name:"processor",type:"text",value:n.processor,onChange:p})]}),Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"Ram"}),Object(u.jsx)(x.a.Control,{name:"ram",type:"number",value:n.ram,onChange:p})]}),l?Object(u.jsx)(m.a,{variant:"warning",className:"errorMessage",children:l.errorMessage}):null,Object(u.jsx)(g.a,{variant:"primary",type:"submit",children:"Submit"})]})]})}function w(e){return Object(u.jsxs)("div",{className:"card-column",children:[Object(u.jsx)("h1",{children:"404"}),Object(u.jsx)("h1",{children:"Whoops!"}),Object(u.jsx)("h3",{children:"This page doesn't exist"})]})}a(83),a(84);var S=Object(l.f)((function(e){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(N,{}),Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{exact:!0,path:"/",component:O}),Object(u.jsx)(l.a,{path:"/addPhone",render:function(e){return Object(u.jsx)(v,Object(o.a)({},e))}}),Object(u.jsx)(l.a,{path:"/phones/:phoneId",render:function(e){return Object(u.jsx)(L,Object(o.a)({},e))}}),Object(u.jsx)(l.a,{path:"/edit/:phoneId",render:function(e){return Object(u.jsx)(I,Object(o.a)({},e))}}),Object(u.jsx)(l.a,{render:function(){return Object(u.jsx)(w,{})}})]}),Object(u.jsx)(P,{})]})}));i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(r.a,{children:Object(u.jsx)(S,{})})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.f21c5d8c.chunk.js.map